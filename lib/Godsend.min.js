/*! Godsend - 0.0.1 - 2014-11-06 */
Godsend=function(a,b,c){this.assetsObj=a,this.preload=b===!0?b:!1,this.isInitialized=!1,this.fullyLoaded=!1,this._loadedAssets=0,this.callback=c,this.assets={},this.isInitialized||this.init()},Godsend.prototype={init:function(){this.isInitialized=!0,this.assetCount=this._countAssets();try{if(!this.assetsObj)throw new Error("Missing assetsObj");this.preload&&this._preloadAssets(),this.callback&&this.callback()}catch(a){console.log("ERROR: "+a.message)}},_preloadAssets:function(){try{for(var a in this.assetsObj)this.loadAsset(a)}catch(b){console.log("ERROR: "+b.message)}},loadAsset:function(a,b){var c=this;try{var d,e=this.assetsObj[a];d=new Image,d.onload=function(){c._loadedAssets++,c._loadedAssets===c.assetCount&&(c.fullyLoaded=!0),c.assets[a]=d,b&&b()},d.src=e.src,d.className=a}catch(f){console.log("ERROR: "+f.message)}},checkPreLoaded:function(a){var b=this,c=setInterval(function(){return b.fullyLoaded===!0?(clearInterval(c),a&&a(),!0):!1},250)},_countAssets:function(){var a=0;for(var b in this.assetsObj)a++;return a}};